group = 'co.mkry'
version = '1.0.0'

apply plugin: 'com.android.library'
apply plugin: 'com.neenbedankt.android-apt'
apply plugin: 'com.github.dcendents.android-maven'
apply plugin: 'com.jfrog.bintray'

android {
  compileSdkVersion 22
  buildToolsVersion '22.0.1'

  defaultConfig {
    minSdkVersion 14
    targetSdkVersion 22
  }
}

dependencies {
  apt 'com.google.dagger:dagger-compiler:2.0.1'
  compile project(':droid-bootstrap')
  compile 'com.fasterxml.jackson.core:jackson-databind:2.5.4'
  compile 'com.fasterxml.jackson.core:jackson-annotations:2.5.4'
  compile 'com.couchbase.lite:couchbase-lite-android:1.1.0'
}

def siteUrl = 'https://github.com/themakery/droid-bootstrap'
def gitUrl = 'https://github.com/themakery/droid-bootstrap.git'

if (hasProperty('bintrayUser')) {
  bintray {
    user = bintrayUser
    key = bintrayApiKey

    configurations = ['archives']
    pkg {
      repo = 'android'
      name = project.name
      desc = 'Droid Storage'
      websiteUrl = siteUrl
      vcsUrl = gitUrl
      licenses = ['Apache-2.0']
      publicDownloadNumbers = true
    }
  }
}

install {
  repositories.mavenInstaller {
    pom.project {
      packaging 'aar'
    }
  }
}
